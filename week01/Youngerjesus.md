# 웹 기술과 HTTP

## 지속적인 연결

HTTP 1.1 에서 들어온 기능으로 Keep-Alive 가 들어왔다. 기존에는 한 번 요청을 하고나면 연결이 끊겨서 많은 TCP 연결할 때 3-way-handshake 와 종료할 때 4-way-handshake 가 발생했는데 지금은 지속적인 연결을 지원하는 Keep-Alive 가 들어왔다.

이 기능을 사용하려면 HTTP 헤더에서 ``Connection: Keep-Alive`` 를 포함시키면 된다.

여기서 알아야 할 사실은 지속적인 연결은 기본적으로 적용된다. (Keep-Alive 를 명시적으로 사용하지 않아도 적용이 됨.)

- 이건 HTTP/1.1 이상에만 적용. HTTP/1.0 에서는 적용되지 않는 기능이다.

오히려 이 기능을 사용하지 않으려면 ``Connection: close`` 를 헤더에 포함시켜야 한다.

## 파이프라이닝

HTTP 1.1 에서 들어온 기능으로 하나의 연결에서 요청을 여러개 보내고 응답을 순서대로 받을 수 있는 기능.

- HTTP 에서 요청이 처리되는 동안에 HTTP 연결은 다른 요청을 처리할 수 없다.

즉 하나씩 요청을 동기식으로 처리해야하므로 여러개의 요청을 보내도 순서대로 요청을 받을 수 밖에 없다.

## HTTPS 의 단점

HTTPS 를 간략하게 소개하자면 Transforer Layer 에서 적용하는 보안방법.

HTTPS 는 사용자가 서버에 접속할 때 서버의 공개키를 전달받는다.

그리고 사용자는 공개키를 가지고 메시지를 암호화해서 서버에 보내면 서버는 개인키를 가지고 메시지를 복호화한다.

- 사용자가 처음 서버에게 메시지를 보낸 순간에 앞으로 연결에 사용할 대칭키를 만들어서 키를 보내고 (이떄 공개키로 암호화한다.) 그리고 서버는 개인키로 복호하를 하며 앞으로 대칭키를 통해서 통신을 한다.

HTTPS 의 단점은 내가 연결하고 있는 상대방과의 통신은 암호화된다는 장점이 있지만 상대방 자체를 신뢰할 순 없다는 문제가 있다.



## HTTP 헤더 (완벽가이드 내용)

HTTP 헤더는 크게 5 가지 종류가 있다.

- 일반 헤더: 클라이언트-서버 모두가 사용하는 기본적인 정보를 제공하기 위함. (i.e Date, Connection 등)
- 요청 헤더: 요청 메시지를 위한 헤더. (i.e Accept 등)
- 응답 헤더: 클라이언트를 위한 헤더 (i.e Server)
- 엔터티 헤더: 엔터티 본문에 대한 헤더. (엔터티 = Header + Body 라고 생각하면 됨.)
- 확장 헤더: 어플리케이션 개바